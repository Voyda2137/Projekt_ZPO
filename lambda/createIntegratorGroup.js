"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const DatabaseUtils_1 = require("./Utils/DatabaseUtils");
const defaultErrorMessage_1 = require("./Constants/defaultErrorMessage");
const defaultHeaders_1 = require("./Constants/defaultHeaders");
exports.handler = async (event) => {
    try {
        const { integratorGroupName, userID } = JSON.parse(event.body || '');
        const createIntegratorGroupRequest = await (0, DatabaseUtils_1.createIntegratorGroup)(integratorGroupName, userID);
        if ('error' in createIntegratorGroupRequest) {
            console.error('Error in createIntegratorGroupRequest: ', createIntegratorGroupRequest.error);
            return defaultErrorMessage_1.defaultErrorMessage;
        }
        return {
            statusCode: 200,
            headers: defaultHeaders_1.defaultHeaders,
            body: JSON.stringify(createIntegratorGroupRequest, null, 2)
        };
    }
    catch (e) {
        console.error("Error: ", e);
        return defaultErrorMessage_1.defaultErrorMessage;
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlSW50ZWdyYXRvckdyb3VwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY3JlYXRlSW50ZWdyYXRvckdyb3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EseURBQTREO0FBQzVELHlFQUFvRTtBQUNwRSwrREFBMEQ7QUFFMUQsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLEVBQUUsS0FBc0IsRUFBRSxFQUFFO0lBQy9DLElBQUk7UUFDQSxNQUFNLEVBQUMsbUJBQW1CLEVBQUUsTUFBTSxFQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1FBQ2xFLE1BQU0sNEJBQTRCLEdBQUcsTUFBTSxJQUFBLHFDQUFxQixFQUFDLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQzdGLElBQUcsT0FBTyxJQUFJLDRCQUE0QixFQUFDO1lBQ3ZDLE9BQU8sQ0FBQyxLQUFLLENBQUMseUNBQXlDLEVBQUUsNEJBQTRCLENBQUMsS0FBSyxDQUFDLENBQUE7WUFDNUYsT0FBTyx5Q0FBbUIsQ0FBQTtTQUM3QjtRQUNELE9BQU87WUFDSCxVQUFVLEVBQUUsR0FBRztZQUNmLE9BQU8sRUFBRSwrQkFBYztZQUN2QixJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQzlELENBQUE7S0FDSjtJQUNELE9BQU8sQ0FBQyxFQUFFO1FBQ04sT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDM0IsT0FBTyx5Q0FBbUIsQ0FBQTtLQUM3QjtBQUNMLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QVBJR2F0ZXdheUV2ZW50fSBmcm9tIFwiYXdzLWxhbWJkYVwiO1xyXG5pbXBvcnQge2NyZWF0ZUludGVncmF0b3JHcm91cH0gZnJvbSBcIi4vVXRpbHMvRGF0YWJhc2VVdGlsc1wiO1xyXG5pbXBvcnQge2RlZmF1bHRFcnJvck1lc3NhZ2V9IGZyb20gXCIuL0NvbnN0YW50cy9kZWZhdWx0RXJyb3JNZXNzYWdlXCI7XHJcbmltcG9ydCB7ZGVmYXVsdEhlYWRlcnN9IGZyb20gXCIuL0NvbnN0YW50cy9kZWZhdWx0SGVhZGVyc1wiO1xyXG5cclxuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBBUElHYXRld2F5RXZlbnQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qge2ludGVncmF0b3JHcm91cE5hbWUsIHVzZXJJRH0gPSBKU09OLnBhcnNlKGV2ZW50LmJvZHkgfHwgJycpXHJcbiAgICAgICAgY29uc3QgY3JlYXRlSW50ZWdyYXRvckdyb3VwUmVxdWVzdCA9IGF3YWl0IGNyZWF0ZUludGVncmF0b3JHcm91cChpbnRlZ3JhdG9yR3JvdXBOYW1lLCB1c2VySUQpXHJcbiAgICAgICAgaWYoJ2Vycm9yJyBpbiBjcmVhdGVJbnRlZ3JhdG9yR3JvdXBSZXF1ZXN0KXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3JlYXRlSW50ZWdyYXRvckdyb3VwUmVxdWVzdDogJywgY3JlYXRlSW50ZWdyYXRvckdyb3VwUmVxdWVzdC5lcnJvcilcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRFcnJvck1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBkZWZhdWx0SGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY3JlYXRlSW50ZWdyYXRvckdyb3VwUmVxdWVzdCwgbnVsbCwgMilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjogXCIsIGUpXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRFcnJvck1lc3NhZ2VcclxuICAgIH1cclxufSJdfQ==